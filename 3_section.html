<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script>
    'use strict';

    let n = prompt("Введите координаты  отрезка 1 через (;) ", "x1;y1;x2;y2");
    let [x1, y1, x2, y2] = n.split(';');
    let x = prompt("Введите координаты  отрезка 2 через (;) ", "x3;y3;x4;y4");
    let [x3, y3, x4, y4] = x.split(';');
    //Найдем определитель
    let denominator = (y4 - y3) * (x1 - x2) - (x4 - x3) * (y1 - y2);
    if (denominator == 0) {
        //Если он равен 0, то прямые содержащие отрезки параллельны или совпадают.
        //В этом случае проверим лежит ли вершина одного отрезка на другом,
        if ((x1 * y2 - x2 * y1) * (x4 - x3) - (x3 * y4 - x4 * y3) * (x2 - x1) == 0
            && (x1 * y2 - x2 * y1) * (y4 - y3) - (x3 * y4 - x4 * y3) * (y2 - y1) == 0) {
            // если она лежит, то отрезки пересекаются,
            alert("Отрезки пересекаются");
        } else {
            //иначе не пересекаются.
            alert("Отрезки не пересекаются");
        }
    } else {
        // Если не 0, то найдем решение по правилу Крамера:
        let numerator_a = (x4 - x2) * (y4 - y3) - (x4 - x3) * (y4 - y2);
        let numerator_b = (x1 - x2) * (y4 - y2) - (x4 - x2) * (y1 - y2);
        let Ua = numerator_a / denominator;
        let Ub = numerator_b / denominator;
        if (Ua >= 0 && Ua <= 1 && Ub >= 0 && Ub <= 1) {
            alert("Отрезки пересекаются");
        } else {
            alert("Отрезки не пересекаются");
        }
    }

</script>
